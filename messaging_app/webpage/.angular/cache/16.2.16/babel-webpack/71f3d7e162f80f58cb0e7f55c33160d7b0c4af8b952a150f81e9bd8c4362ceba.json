{"ast":null,"code":"import { interval, Subject, takeUntil } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nconst _c0 = [\"logBox\"];\nconst _c1 = function (a0, a1, a2, a3, a4) {\n  return {\n    \"bg-green-500/20 text-green-400 border-green-500/30\": a0,\n    \"bg-yellow-500/20 text-yellow-400 border-yellow-500/30\": a1,\n    \"bg-red-500/20 text-red-400 border-red-500/30\": a2,\n    \"bg-blue-500/20 text-blue-400 border-blue-500/30\": a3,\n    \"bg-emerald-500/20 text-emerald-400 border-emerald-500/30\": a4\n  };\n};\nfunction LiveLogsComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"span\", 12);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 13);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 14);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const log_r3 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"hidden\", !ctx_r1.shouldShowLog(log_r3));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(log_r3.timestamp);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction5(6, _c1, log_r3.level === \"INFO\", log_r3.level === \"WARN\", log_r3.level === \"ERROR\", log_r3.level === \"DEBUG\", log_r3.level === \"SUCCESS\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", log_r3.level, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", log_r3.message, \" \");\n  }\n}\nfunction LiveLogsComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"div\", 16);\n    i0.ɵɵtext(2, \"\\uD83D\\uDCE1\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 17);\n    i0.ɵɵtext(4, \"No logs streaming\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 18);\n    i0.ɵɵtext(6, \"Click Resume to start live updates\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let LiveLogsComponent = /*#__PURE__*/(() => {\n  class LiveLogsComponent {\n    constructor(cdr) {\n      this.cdr = cdr;\n      this.logs = [];\n      this.isPaused = false;\n      this.autoScroll = true;\n      this.showLevels = ['INFO', 'ERROR', 'WARN']; // Filter visible levels\n      this.maxLogs = 200;\n      this.destroy$ = new Subject();\n      // Realistic log templates\n      this.logTemplates = [\n      // API & Backend\n      '[API] POST /auth/login - 200 OK - user=alex.ross', '[API] GET /tickets - 200 OK - count=42 - took=23ms', '[API] PUT /tickets/101 - 200 OK - status=In Progress', '[DATABASE] Query tickets - rows=15 - index_scan=true',\n      // Services & Microservices\n      '[AUTH] Token refreshed for alex.ross - expires=2025-12-03T12:00:00Z', '[NOTIFICATION] Email sent to sara.williams - template=payment_failed', '[CACHE] Redis GET user:101 - HIT - ttl=3600s', '[QUEUE] RabbitMQ ticket-101 processed - worker=support-bot',\n      // Infra & Monitoring\n      '[HEALTH] Postgres connection healthy - latency=12ms', '[METRICS] CPU=23.4% MEM=1.2GB - prometheus scrape OK', '[LOAD_BALANCER] Route /api/tickets -> pod-3 - sticky=true',\n      // Errors & Warnings\n      '[ERROR] Stripe webhook timeout - retry=3/5', '[WARN] Rate limit hit - IP=192.168.1.100 - remaining=45/100', '[ERROR] Elasticsearch cluster yellow - shard=knowledgebase-4',\n      // Frontend & User Activity\n      '[FRONTEND] React hydration complete - bundle=2.1MB', '[USER] alex.ross viewed /tickets - session=abc123', '[ANALYTICS] Pageview dashboard - user_count=247 active=12'];\n    }\n    ngOnInit() {\n      // Generate initial logs\n      for (let i = 0; i < 50; i++) {\n        this.generateLog();\n      }\n      // Live log stream\n      interval(1200).pipe(takeUntil(this.destroy$)).subscribe(() => {\n        if (!this.isPaused) {\n          this.generateLog();\n        }\n      });\n    }\n    ngAfterViewInit() {\n      this.scrollToBottom();\n    }\n    ngOnDestroy() {\n      this.destroy$.next();\n      this.destroy$.complete();\n      if (this.scrollTimeout) {\n        clearTimeout(this.scrollTimeout);\n      }\n    }\n    togglePause() {\n      this.isPaused = !this.isPaused;\n    }\n    toggleAutoScroll() {\n      this.autoScroll = !this.autoScroll;\n      if (this.autoScroll) {\n        this.scrollToBottom();\n      }\n    }\n    clearLogs() {\n      this.logs = [];\n    }\n    generateLog() {\n      const level = this.getRandomLevel();\n      const template = this.logTemplates[Math.floor(Math.random() * this.logTemplates.length)];\n      const id = Math.random().toString(36).slice(2, 9);\n      const log = {\n        timestamp: new Date().toLocaleTimeString('en-US', {\n          hour12: false,\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit'\n        }),\n        level,\n        message: template,\n        id\n      };\n      this.logs.push(log);\n      // Maintain max logs\n      if (this.logs.length > this.maxLogs) {\n        this.logs.shift();\n      }\n      // Auto-scroll if enabled\n      if (this.autoScroll) {\n        this.scrollTimeout = setTimeout(() => this.scrollToBottom(), 100);\n      }\n      this.cdr.detectChanges();\n    }\n    getRandomLevel() {\n      const weights = {\n        INFO: 0.5,\n        DEBUG: 0.3,\n        WARN: 0.15,\n        ERROR: 0.04,\n        SUCCESS: 0.01\n      };\n      const rand = Math.random();\n      let cumulative = 0;\n      for (const [level, weight] of Object.entries(weights)) {\n        cumulative += weight;\n        if (rand <= cumulative) {\n          return level;\n        }\n      }\n      return 'INFO';\n    }\n    scrollToBottom() {\n      try {\n        if (this.logBox?.nativeElement) {\n          this.logBox.nativeElement.scrollTop = this.logBox.nativeElement.scrollHeight;\n        }\n      } catch (e) {\n        console.warn('Scroll failed:', e);\n      }\n    }\n    shouldShowLog(log) {\n      return this.showLevels.includes(log.level);\n    }\n    static {\n      this.ɵfac = function LiveLogsComponent_Factory(t) {\n        return new (t || LiveLogsComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: LiveLogsComponent,\n        selectors: [[\"app-live-logs\"]],\n        viewQuery: function LiveLogsComponent_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(_c0, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.logBox = _t.first);\n          }\n        },\n        decls: 17,\n        vars: 10,\n        consts: [[1, \"bg-black/90\", \"border\", \"border-gray-800\", \"rounded-3xl\", \"shadow-2xl\", \"p-6\", \"h-96\", \"flex\", \"flex-col\"], [1, \"flex\", \"items-center\", \"justify-between\", \"mb-4\", \"pb-3\", \"border-b\", \"border-gray-800\"], [1, \"text-xl\", \"font-bold\", \"text-white\", \"flex\", \"items-center\", \"gap-2\"], [1, \"text-green-400\"], [1, \"flex\", \"items-center\", \"gap-2\", \"text-xs\"], [1, \"px-3\", \"py-1\", \"rounded-lg\", \"text-white\", \"font-medium\", \"hover:opacity-90\", \"transition\", 3, \"click\"], [1, \"px-3\", \"py-1\", \"bg-gray-700\", \"hover:bg-gray-600\", \"rounded-lg\", \"text-white\", \"font-medium\", \"transition\", 3, \"click\"], [1, \"log-container\", \"flex-1\", \"overflow-y-auto\", \"bg-[#0a0a0a]\", \"rounded-2xl\", \"p-4\", \"font-mono\", \"text-sm\", \"scrollbar-thin\", \"scrollbar-thumb-gray-700\", \"scrollbar-track-gray-900\", \"space-y-1\", \"select-none\"], [\"logBox\", \"\"], [\"class\", \"log-entry flex items-start gap-3 p-2 rounded-lg hover:bg-[#1a1a1a] transition-all duration-100 group\", 3, \"hidden\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"flex flex-col items-center justify-center h-full text-gray-500 text-center\", 4, \"ngIf\"], [1, \"log-entry\", \"flex\", \"items-start\", \"gap-3\", \"p-2\", \"rounded-lg\", \"hover:bg-[#1a1a1a]\", \"transition-all\", \"duration-100\", \"group\"], [1, \"text-gray-400\", \"text-xs\", \"min-w-[80px]\", \"flex-shrink-0\"], [1, \"px-2\", \"py-1\", \"rounded-full\", \"text-xs\", \"font-bold\", \"border\", \"uppercase\", \"flex-shrink-0\", \"min-w-[55px]\", \"text-center\", 3, \"ngClass\"], [1, \"text-gray-100\", \"flex-1\", \"break-all\", \"group-hover:text-white\", \"transition-colors\"], [1, \"flex\", \"flex-col\", \"items-center\", \"justify-center\", \"h-full\", \"text-gray-500\", \"text-center\"], [1, \"text-4xl\", \"mb-4\", \"opacity-50\"], [1, \"text-lg\", \"mb-2\"], [1, \"text-sm\"]],\n        template: function LiveLogsComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\", 2)(3, \"span\", 3);\n            i0.ɵɵtext(4, \"\\uD83D\\uDCE1\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(5, \" Live Logs Stream \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"div\", 4)(7, \"button\", 5);\n            i0.ɵɵlistener(\"click\", function LiveLogsComponent_Template_button_click_7_listener() {\n              return ctx.togglePause();\n            });\n            i0.ɵɵtext(8);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"button\", 5);\n            i0.ɵɵlistener(\"click\", function LiveLogsComponent_Template_button_click_9_listener() {\n              return ctx.toggleAutoScroll();\n            });\n            i0.ɵɵtext(10);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(11, \"button\", 6);\n            i0.ɵɵlistener(\"click\", function LiveLogsComponent_Template_button_click_11_listener() {\n              return ctx.clearLogs();\n            });\n            i0.ɵɵtext(12, \" \\uD83D\\uDDD1\\uFE0F Clear \");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(13, \"div\", 7, 8);\n            i0.ɵɵtemplate(15, LiveLogsComponent_div_15_Template, 7, 12, \"div\", 9);\n            i0.ɵɵtemplate(16, LiveLogsComponent_div_16_Template, 7, 0, \"div\", 10);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(7);\n            i0.ɵɵclassProp(\"bg-green-600\", !ctx.isPaused)(\"bg-red-600\", ctx.isPaused);\n            i0.ɵɵadvance(1);\n            i0.ɵɵtextInterpolate1(\" \", ctx.isPaused ? \"\\u25B6\\uFE0F Resume\" : \"\\u23F8\\uFE0F Pause\", \" \");\n            i0.ɵɵadvance(1);\n            i0.ɵɵclassProp(\"bg-indigo-600\", ctx.autoScroll);\n            i0.ɵɵadvance(1);\n            i0.ɵɵtextInterpolate1(\" \", ctx.autoScroll ? \"\\uD83D\\uDCDC Auto\" : \"\\uD83D\\uDCDC Manual\", \" \");\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngForOf\", ctx.logs);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.logs.length === 0);\n          }\n        },\n        dependencies: [i1.NgClass, i1.NgForOf, i1.NgIf],\n        styles: [\"[_nghost-%COMP%]{display:block;height:100%;max-height:600px}.log-container[_ngcontent-%COMP%]{height:500px;overflow-y:auto;background:#1a1a1a;border-radius:12px;padding:20px;font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:13px;line-height:1.4}.log-entry[_ngcontent-%COMP%]{margin-bottom:4px;padding:2px 0;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(4px)}to{opacity:1;transform:translateY(0)}}.log-timestamp[_ngcontent-%COMP%]{color:#87ceeb}.log-info[_ngcontent-%COMP%]{color:#00ff7f}.log-warn[_ngcontent-%COMP%]{color:gold}.log-error[_ngcontent-%COMP%]{color:#ff6b6b}.log-debug[_ngcontent-%COMP%]{color:#87ceeb}.log-success[_ngcontent-%COMP%]{color:#90ee90}.controls[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:12px;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:8px;background:#374151;color:#fff;cursor:pointer;font-size:13px;font-family:inherit;transition:all .2s}.btn[_ngcontent-%COMP%]:hover{background:#4B5563;transform:translateY(-1px)}.btn.active[_ngcontent-%COMP%]{background:#10B981}.btn.paused[_ngcontent-%COMP%]{background:#EF4444}\"]\n      });\n    }\n  }\n  return LiveLogsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}