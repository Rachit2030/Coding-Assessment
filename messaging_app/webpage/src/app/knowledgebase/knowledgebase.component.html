<div class="min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 py-6 px-4 sm:px-6 lg:px-8">
  <div class="max-w-6xl mx-auto">
    
    <!-- Mobile Full Header -->
    <div class="lg:hidden mb-8 text-center">
      <h1 class="text-4xl font-black bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-4">
        ğŸ“š Knowledgebase Editor
      </h1>
      <p class="text-lg text-gray-600 max-w-md mx-auto">
        Write Markdown â€¢ Live Preview â€¢ Auto-save
      </p>
    </div>

    <!-- Desktop Header -->
    <div class="hidden lg:block mb-8">
      <h1 class="text-5xl font-black bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text">
        ğŸ“š Knowledgebase Editor
      </h1>
    </div>

    <!-- Main Editor Card -->
    <div class="bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 overflow-hidden">
      
      <!-- Controls Bar -->
      <div class="p-6 lg:p-8 border-b border-gray-100 bg-gradient-to-r from-indigo-50 to-purple-50">
        <div class="flex flex-col lg:flex-row lg:items-center gap-4 lg:gap-6 justify-between">
          
          <!-- Mobile Menu Button -->
          <button (click)="toggleMobileMenu()" 
                  class="lg:hidden p-2 rounded-xl bg-indigo-100 text-indigo-700 hover:bg-indigo-200 transition">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </button>

          <!-- Main Buttons -->
          <div class="flex flex-col sm:flex-row gap-3 w-full lg:w-auto order-3 lg:order-1">
            <button (click)="togglePreview()" 
                    [class.bg-indigo-500]="preview"
                    [class.bg-gray-500]="!preview"
                    class="flex-1 lg:flex-none px-6 py-3 lg:px-8 lg:py-4 rounded-2xl font-bold text-white shadow-xl hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 text-sm lg:text-base">
              {{ preview ? 'âœï¸ Edit Mode' : 'ğŸ‘ï¸ Preview Mode' }}
            </button>
            <button (click)="save()" 
                    class="flex-1 lg:flex-none px-6 py-3 lg:px-8 lg:py-4 rounded-2xl bg-gradient-to-r from-green-500 to-emerald-600 font-bold text-white shadow-xl hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 text-sm lg:text-base">
              ğŸ’¾ Save
            </button>
          </div>

          <!-- Action Buttons (Desktop) -->
          <div class="flex items-center gap-2 order-2 lg:order-2">
            <button (click)="copyToClipboard()" class="p-3 rounded-xl bg-gray-100 hover:bg-gray-200 text-gray-700 transition">
              ğŸ“‹
            </button>
            <button (click)="clearAll()" class="p-3 rounded-xl bg-red-100 hover:bg-red-200 text-red-700 transition">
              ğŸ—‘ï¸
            </button>
          </div>
        </div>

        <!-- Mobile Action Menu -->
        <div class="lg:hidden mt-4 pt-4 border-t border-gray-200" [class.hidden]="!showMobileMenu">
          <div class="flex flex-wrap gap-3 justify-center">
            <button (click)="loadTemplate('faq')" class="px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 text-sm font-medium">
              ğŸ“‹ FAQ Template
            </button>
            <button (click)="loadTemplate('guide')" class="px-4 py-2 bg-purple-500 text-white rounded-xl hover:bg-purple-600 text-sm font-medium">
              ğŸ§­ Guide Template
            </button>
          </div>
        </div>

        <!-- Status Bar -->
        <div class="flex flex-col sm:flex-row gap-4 mt-4 pt-4 border-t border-gray-100 text-sm text-gray-500">
          <span>Characters: {{ content.length }}/10000 â€¢ Last edit: {{ lastEdit | date:'shortTime' }}</span>
          <div class="flex gap-2 flex-wrap">
            <button (click)="loadTemplate('faq')" class="hidden lg:inline px-4 py-2 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-xl text-xs">
              ğŸ“‹ FAQ
            </button>
            <button (click)="loadTemplate('guide')" class="hidden lg:inline px-4 py-2 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-xl text-xs">
              ğŸ§­ Guide
            </button>
          </div>
        </div>
      </div>

      <!-- Editor/Preview Content -->
      <div class="p-6 lg:p-8 min-h-[400px]">
        <!-- Edit Mode -->
        <div *ngIf="!preview" class="space-y-4">
          <textarea 
            [(ngModel)]="content" 
            (input)="updatePreview()"
            rows="20"
            placeholder="Write your knowledgebase article in Markdown... # Headers, **bold**, *italic*, \`code\`, > quotes"
            class="w-full h-96 lg:h-[500px] border-2 border-gray-200 rounded-2xl p-6 font-mono text-sm lg:text-base resize-none
                   focus:border-indigo-400 focus:ring-4 focus:ring-indigo-100 focus:outline-none transition-all shadow-sm hover:shadow-md">
          </textarea>
        </div>

        <!-- Preview Mode -->
        <div *ngIf="preview" class="prose prose-indigo max-w-none h-96 lg:h-[500px] overflow-y-auto">
          <div class="p-6 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl border-2 border-indigo-100 min-h-full" 
               [innerHTML]="formattedContent">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
